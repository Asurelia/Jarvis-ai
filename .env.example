# üîê JARVIS AI 2025 - Configuration des Variables d'Environnement
# Copiez ce fichier vers .env et configurez avec vos valeurs secr√®tes

# =============================================================================
# üóÑÔ∏è Base de Donn√©es PostgreSQL
# =============================================================================
POSTGRES_DB=jarvis_memory
POSTGRES_USER=jarvis
POSTGRES_PASSWORD=CHANGEME_STRONG_PASSWORD_HERE
POSTGRES_INITDB_ARGS=--encoding=UTF-8

# =============================================================================
# üîë S√©curit√© JWT
# =============================================================================
JWT_SECRET_KEY=CHANGEME_GENERATE_STRONG_JWT_SECRET
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# =============================================================================
# üåê Configuration CORS
# =============================================================================
# Environnement de d√©veloppement
ALLOWED_ORIGINS_DEV=http://localhost:3000,http://127.0.0.1:3000,http://localhost:8080
# Environnement de production (remplacez par vos domaines)
ALLOWED_ORIGINS_PROD=https://your-jarvis-domain.com,https://api.your-jarvis-domain.com

# =============================================================================
# üñ•Ô∏è System Control Service
# =============================================================================
# Utilisateurs et mots de passe pour le contr√¥le syst√®me
SYSTEM_CONTROL_ADMIN_USER=admin
SYSTEM_CONTROL_ADMIN_PASSWORD=CHANGEME_ADMIN_PASSWORD
SYSTEM_CONTROL_JARVIS_USER=jarvis
SYSTEM_CONTROL_JARVIS_PASSWORD=CHANGEME_JARVIS_PASSWORD

# Configuration de s√©curit√©
SANDBOX_MODE=true
MAX_ACTIONS_PER_MINUTE=60
DISPLAY=:99

# =============================================================================
# üßÆ Redis Configuration
# =============================================================================
REDIS_PASSWORD=CHANGEME_REDIS_PASSWORD
REDIS_MAXMEMORY=256mb
REDIS_MAXMEMORY_POLICY=allkeys-lru

# =============================================================================
# üîó URLs de Services
# =============================================================================
REDIS_URL=redis://:${REDIS_PASSWORD}@redis:6379
MEMORY_DB_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@memory-db:5432/${POSTGRES_DB}
OLLAMA_URL=http://ollama:11434

# =============================================================================
# üöÄ Configuration de l'Application
# =============================================================================
NODE_ENV=production
BRAIN_DEBUG=false
LOG_LEVEL=INFO

# Configuration GPU
GPU_POLLING_INTERVAL=1
TTS_MODEL=tts_models/multilingual/multi-dataset/xtts_v2
STT_MODEL=small

# =============================================================================
# üè• Monitoring et Health Checks
# =============================================================================
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_RETRIES=3

# =============================================================================
# üìä Limites de Ressources
# =============================================================================
# Limites m√©moire par service (en MB)
BRAIN_API_MEMORY_LIMIT=1024
BRAIN_API_MEMORY_RESERVATION=512
TTS_SERVICE_MEMORY_LIMIT=2048
STT_SERVICE_MEMORY_LIMIT=1024
SYSTEM_CONTROL_MEMORY_LIMIT=512
GPU_STATS_MEMORY_LIMIT=512

# Limites CPU par service
BRAIN_API_CPU_LIMIT=1.0
BRAIN_API_CPU_RESERVATION=0.5
TTS_SERVICE_CPU_LIMIT=2.0
STT_SERVICE_CPU_LIMIT=1.0
SYSTEM_CONTROL_CPU_LIMIT=0.5
GPU_STATS_CPU_LIMIT=0.5

# =============================================================================
# üîí Mode de S√©curit√©
# =============================================================================
# Valeurs possibles: development, production
SECURITY_MODE=production

# D√©sactiver les fonctionnalit√©s non-s√©curis√©es en production
DISABLE_DEBUG_ENDPOINTS=true
ENABLE_RATE_LIMITING=true
ENABLE_REQUEST_LOGGING=true

# =============================================================================
# üåç Configuration R√©seau
# =============================================================================
# Adresses IP de confiance (s√©par√©es par des virgules)
TRUSTED_IPS=127.0.0.1,::1

# Ports d'√©coute
BRAIN_API_PORT=5000
BRAIN_WEBSOCKET_PORT=5001
TTS_SERVICE_PORT=5002
STT_SERVICE_PORT=5003
SYSTEM_CONTROL_PORT=5004
TERMINAL_SERVICE_PORT=5005
MCP_GATEWAY_PORT=5006
AUTOCOMPLETE_SERVICE_PORT=5007
GPU_STATS_SERVICE_PORT=5009
FRONTEND_PORT=3000

# =============================================================================
# üìÇ Chemins de Donn√©es
# =============================================================================
# R√©pertoires de donn√©es (relatifs au r√©pertoire du projet)
BRAIN_DATA_PATH=./data/brain
MEMORY_DATA_PATH=./data/memory
OLLAMA_DATA_PATH=./data/ollama
AUDIO_CACHE_PATH=./data/audio
REDIS_DATA_PATH=./data/redis
POSTGRES_DATA_PATH=./data/postgres

# =============================================================================
# üéØ Configuration par Environnement
# =============================================================================
# Configuration sp√©cifique au d√©veloppement
DEV_ENABLE_CORS_ALL=false
DEV_ENABLE_DEBUG_LOGS=false
DEV_SKIP_AUTH=false

# Configuration sp√©cifique √† la production
PROD_ENABLE_HTTPS=true
PROD_ENABLE_CSRF_PROTECTION=true
PROD_ENABLE_AUDIT_LOGGING=true

# =============================================================================
# üìù Notes de S√©curit√©
# =============================================================================
# 1. Remplacez TOUS les "CHANGEME_*" par des valeurs secr√®tes fortes
# 2. Utilisez le script generate-secrets.sh pour g√©n√©rer des mots de passe s√©curis√©s
# 3. Ne commitez JAMAIS ce fichier .env dans votre repository
# 4. Ajoutez .env √† votre .gitignore
# 5. Gardez ce fichier .env.example √† jour avec les nouvelles variables
# 6. Utilisez des gestionnaires de secrets pour la production (HashiCorp Vault, AWS Secrets Manager, etc.)